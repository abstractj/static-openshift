<!doctype html>
<html class="no-js" lang="en">
  <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

      <title>AeroGear - Getting Started with AeroGear and Xcode Template</title>
      <meta name="description" content="">
      <meta name="author" content="">

      <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;">

      <link rel="shortcut icon" href="/favicon.ico" />
      <link rel="alternate" type="application/atom+xml" title="feed" href="/feed.atom"/>
      <link rel="stylesheet" href="/css/font-awesome.min.css">
      <link rel="stylesheet" href="/css/style.css">
      <link href='http://fonts.googleapis.com/css?family=Open+Sans:600,300,300italic,600italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>

      <script src="/js/libs/modernizr-2.6.2.min.js"></script>
		  <script type="text/javascript">

			  var _gaq = _gaq || [];
			  _gaq.push(['_setAccount', 'UA-28733717-2']);
			  _gaq.push(['_setDomainName', 'aerogear.org']);
			  _gaq.push(['_trackPageview']);

			  (function() {
				  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
					  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			  })();

		  </script>
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
      <script>window.jQuery || document.write( '<script src="/js/libs/jquery-1.7.2.min.js"><\/script>' )</script>
  </head>
  <body>
      <header>
          <div class="wrapper">
              <a href="/"><div id="logo"></div></a>
              <a href="/news/2013/03/28/aerogear-1.0.0-is-out/index.html" class="news fixed">Hey listen!<br class="title-break"> AeroGear 1.0.0 is out!</a>
          </div>
      </header>
         
      <nav>
          <div class="wrapper">
            <div class="links">
                <a href="/" class="fixed">Home</a>
                <a href="/download" class="">Get started</a>
                <a href="/docs" class="">Documentation</a>
                <a href="/news" class="fixed ">News</a>
                <a href="/community" class="">Community</a>        
            </div>
            <a href="https://www.facebook.com/AeroGearProject"><div class="social facebook"></div></a>
            <a href="https://plus.google.com/106588661437153585722/posts"><div class="social google-plus"></div></a>
            <a href="https://www.twitter.com/aerogears"><div class="social twitter"></div></a>
          </div>    
          <div class="clearfix"></div>
      </nav>

      <div class="wrapper inner-container">

          <div class="basic">
    
<div class="sect1">
  <h2 id="_getting_started_with_aerogear_and_xcode_template">Getting Started with AeroGear and Xcode Template</h2>
  
  <div class="sectionbody">
<div class="paragraph">
    
  <p>As of version 1.0 of the AeroGear library, we are offering an Xcode template for our users to easily get started with the framework. This guide will help you setup the template in your existing Xcode installation. Once installed you can easily use the template as a basis for all your future AeroGear iOS applications. The guide assumes that you have Xcode IDE installed in your machine. If not, you can download it from the Apple developer web site <a href="https://developer.apple.com/xcode">here</a>. Let&#8217;s get started.</p>
</div>

<div class="sect2">
  <h3 id="_step_1_install_xcode_template">Step 1: Install Xcode Template</h3>
  
<div class="paragraph">
    
  <p><a href="https://github.com/aerogear/aerogear-ios-xcode-template/zipball/master">Click here</a> to download the latest version of the template from the <a href="https://github.com/aerogear/aerogear-ios-xcode-template">project&#8217;s web site</a>. Once the download completes, uncompress the file and inside you will find an <em>AeroGear</em> folder.</p>
</div>
<div class="imageblock">
  <div class="content">
    
    <img src="https://dl.dropbox.com/u/155050/img/ios_template_folder.png" alt="Template folder">
    
  </div>
  
</div>
<div class="paragraph">
    
  <p>The folder contains the system configuration files that comprise the installable Xcode template. To assist Xcode to recognize the template, we need to copy it to a specific location in order for it to pick it up. Because the location is a hidden folder in the system, we need to manual do the copy operation using a terminal.</p>
</div>
<div class="paragraph">
    
  <p>Open a terminal and type:</p>
</div>
<div class="listingblock">
  
  <div class="content monospaced">
    
    <pre class="highlight"><code class="bash">$ ls ~/Library/Developer/Xcode/Templates/Application/Project\ Templates/</code></pre>
    
  </div>
</div>
<div class="paragraph">
    
  <p>If you get back a response that the folder does not exist it means that it&#8217;s the first time you install a template and the location is not yet initialized. To fix that, simply create the folder otherwise skip to the next step.</p>
</div>
<div class="listingblock">
  
  <div class="content monospaced">
    
    <pre class="highlight"><code class="bash">$ mkdir -p ~/Library/Developer/Xcode/Templates/Application/Project\ Templates/</code></pre>
    
  </div>
</div>
<div class="paragraph">
    
  <p>and finally copy the template:</p>
</div>
<div class="listingblock">
  
  <div class="content monospaced">
    
    <pre class="highlight"><code class="bash">$ cp -r AeroGear ~/Library/Developer/Xcode/Templates/Application/Project\ Templates/</code></pre>
    
  </div>
</div>

  
</div>


<div class="sect2">
  <h3 id="_step_3_verify_installation">Step 3: Verify installation</h3>
  
<div class="paragraph">
    
  <p>Fire up Xcode and when presented with the welcome screen, choose "Create a new Xcode Project".</p>
</div>
<div class="imageblock">
  <div class="content">
    
    <img src="https://dl.dropbox.com/u/155050/img/ios_welcome_screen.png" alt="Welcome screen">
    
  </div>
  
</div>
<div class="paragraph">
    
  <p>If the installation of the template was succesful, you will find the <em>AeroGear</em> template under the iOS section. If not, please verify that you correctly install the template from Step 1.</p>
</div>
<div class="paragraph">
    
  <p><span class="image">
  <img src="https://dl.dropbox.com/u/155050/img/ios_template_wizard.png" alt="AeroGear screen">
</span></p>
</div>
<div class="paragraph">
    
  <p>Select the template and click <em>Next</em></p>
</div>
<div class="paragraph">
    
  <p>Enter <em>"AeroGearExample"</em> in the Product Name field and your initials as the Class Prefix. In this example I used <em>"AG"</em>. For the device family I used iPhone.</p>
</div>
<div class="imageblock">
  <div class="content">
    
    <img src="https://dl.dropbox.com/u/155050/img/ios_project_details_screen.png" alt="Details">
    
  </div>
  
</div>
<div class="paragraph">
    
  <p>Xcode creates our project and we are presented with the default project screen.</p>
</div>
<div class="imageblock">
  <div class="content">
    
    <img src="https://dl.dropbox.com/u/155050/img/ios_template_project_screen.png" alt="Main Project Screen">
    
  </div>
  
</div>
<div class="paragraph">
    
  <p>Now that our project is created, there is one final step left before we can start using the project.</p>
</div>

  
</div>


<div class="sect2">
  <h3 id="_step_3_install_dependencies_through_cocoapods">Step 3: Install Dependencies through CocoaPods</h3>
  
<div class="paragraph">
    
  <p>The project created by the AeroGear template uses <a href="http://cocoapods.org">CocoaPods</a> for managing any external library dependencies (including AeroGear). If you haven&#8217;t used it so far in your iOS projects, please take the time to familiarize yourself. It will make your life much easier when dealing with dependencies (and upgrades!). Have a look at the <a href="http://cocoapods.org">web site</a> for installation details.</p>
</div>
<div class="paragraph">
    
  <p>If you take a close look at the "Project Navigator" you will notice a file with name <em>Podfile</em>. This file is used by CocoaPods to install any library dependencies the project has. The template has already filled in "AeroGear" for us and you are free to add several other <a href="https://github.com/CocoaPods/Specs">popular libraries</a>.</p>
</div>
<div class="paragraph">
    
  <p>So time to install the dependencies.</p>
</div>
<div class="paragraph">
    
  <p>Close the project window and using the terminal navigate to the project directory. Assuming you have correctly installed CocoaPods, simple do a:</p>
</div>
<div class="listingblock">
  
  <div class="content monospaced">
    
    <pre class="highlight"><code class="bash">pod install</code></pre>
    
  </div>
</div>
<div class="paragraph">
    
  <p>to install the dependencies. Further, this step will also create a workspace file (with the extension &lt;project name&gt;.xcworkspace) that contains the definitions for both the project and it&#8217;s required library dependencies. We will use that file for now on when opening the project.</p>
</div>

  
</div>


<div class="sect2">
  <h3 id="_step_4_run">Step 4: Run</h3>
  
<div class="paragraph">
    
  <p>Time to run the sample project. Double click on the generated xcworkspace file and when the project is opened select "Product&#8594;Run". If all goes well, you will be presented with the following screen:</p>
</div>
<div class="imageblock">
  <div class="content">
    
    <img src="https://dl.dropbox.com/u/155050/img/ios_template_emulator.png" alt="Emulator">
    
  </div>
  
</div>
<div class="paragraph">
    
  <p>The template generated a sample project that uses AeroGear to fetch&#8217;s the latest Tasks from the <a href="http://todo-aerogear.rhcloud.com">TODO application</a> deployed on <a href="https://openshift.redhat.com/app/">OpenShift</a>. The tasks are then displayed on a standard UITableView component.</p>
</div>

  
</div>


<div class="sect2">
  <h3 id="_step_5_walkthrough">Step 5: Walkthrough</h3>
  
<div class="paragraph">
    
  <p>Let&#8217;s do a quick walkthrough of the code generated by the template to familiarize ourselves.</p>
</div>

  
</div>


<div class="sect2">
  <h3 id="_aerogearexampleapiclient_m">AeroGearExampleAPIClient.m</h3>
  
<div class="paragraph">
    
  <p>At the Project Navigator click on "AeroGearExampleAPIClient.m". This <em>singleton</em> instance class is used through out our project and hold references to the <a href="http://aerogear.org/docs/specs/aerogear-ios/Protocols/AGPipe.html">Pipe</a> objects allowing us to connect to remote RESTFul endpoints and perform CRUD operations on them.</p>
</div>
<div class="paragraph">
    
  <p>During application load, the method <em>loginWithUsername</em> of the singleton class is invoked. It is responsible to perform the login against the remote service and upon successfully completion, to initialize our Pipe references.</p>
</div>
<div class="listingblock">
  
  <div class="content monospaced">
    
    <pre class="highlight"><code class="c">- (void)loginWithUsername:(NSString *)username
                 password:(NSString *)password
                  success:(void (^)())success
                  failure:(void (^)(NSError *error))failure {

    NSURL *baseURL = [NSURL URLWithString:kAgProjectAPIBaseURLString];

    // create the Pipeline object
    AGPipeline *pipeline = [AGPipeline pipelineWithBaseURL:baseURL];  [1]

    // create the Authenticator object
    AGAuthenticator *authenticator = [AGAuthenticator authenticator]; [2]

    // request the default AeroGear authentication module from 'Authenticator'
    id &lt;AGAuthenticationModule&gt; todoAuthMod = [authenticator auth:^(id &lt;AGAuthConfig&gt; config) {  [3]
        [config setName:@"todoAuthMod"]; // assign it a name
        [config setBaseURL:baseURL]; // the base url to authenticate to
        [config setType:@"AG_SECURITY"]; // can be omitted as 'AG_SECURITY' is the default auth module
    }];

    // login to the service
    [todoAuthMod login:username password:password success:^(id responseObject) { [4]
        // if successfully logged in, it is time to construct our pipes.
        // Note that we assign the authentication module we
        // created earlier, so every request can be properly
        // authenticated against the remote endpoints.
        _tasksPipe = [pipeline pipe:^(id &lt;AGPipeConfig&gt; config) { [5]
            [config setName:@"tasks"];
            [config setAuthModule:todoAuthMod];

        }];

        // ..add your own pipes here

        // inform client that we have successfully logged in
        success();

    } failure:^(NSError *error) {
        failure(error);
    }];
}</code></pre>
    
  </div>
</div>
<div class="paragraph">
    
  <p>In [1] and [2] we initialize our <a href="http://aerogear.org/docs/specs/aerogear-ios/Classes/AGPipeline.html">Pipeline</a> and <a href="http://aerogear.org/docs/specs/aerogear-ios/Classes/AGAuthenticator.html">Authenticator</a> objects. Both act a factory in which the former creates <a href="http://aerogear.org/docs/specs/aerogear-ios/Protocols/AGPipe.html">Pipe</a> objects connected to remote endpoints, while the latter give us access to different authentication modules provided by AeroGear (such as Rest, Basic and Digest).</p>
</div>
<div class="paragraph">
    
  <p>In [3] we request the default authentication module. The auth module returned will be used a) to login to the remote endpoint and b) assign it to the Pipe during the initial Pipe creation as we will see later on.</p>
</div>
<div class="paragraph">
    
  <p>In [4] we use the authentication module to issue a <em>login</em> [4] to the remote service. Upon successfully completion, we call the <em>pipe</em> method [5] on our Pipeline object created earlier, and use the configuration block to set the name of the remote endpoint (in our case "tasks") as well as assign the authentication module we created earlier. This will allow the Pipe to authenticate when performing requests to the remote endpoints.</p>
</div>
<div class="paragraph">
    
  <p>Upon returning, <em>taskPipe</em> is a fresh Pipe object connected to the remote "/tasks" endpoint.</p>
</div>
<div class="paragraph">
    
  <p>This completes our walkthrough for the "AeroGearExampleAPIClient.m" class.</p>
</div>

  
</div>


<div class="sect2">
  <h3 id="_agpviewcontroller_m">AGPViewController.m</h3>
  
<div class="paragraph">
    
  <p>At the Project Navigator click on "AGPViewController.m". This View Controller class holds the table component that will display the Task objects when they are retrieved from the server.</p>
</div>
<div class="paragraph">
    
  <p>The connection and fetching of data is performed on the <em>viewDidLoad</em> lifecycle method, called by the system after the view is loaded.</p>
</div>
<div class="listingblock">
  
  <div class="content monospaced">
    
    <pre class="highlight"><code class="c">- (void)viewDidLoad {
    [super viewDidLoad];

    self.title = @"Tasks";
    // access the singleton instance that holds our pipes
    AgProjectAPIClient *apiClient = [AgProjectAPIClient sharedInstance]; [1]

    // first, we need to login to the service

    // Note: here we use static strings but a login screen
    // will provide the necessary authentication details.
    [apiClient loginWithUsername:@"john" password:@"123" success:^{ [2]

        // logged in successfully

        // time to retrieve remote data
        [[apiClient tasksPipe] read:^(id responseObject) { [3]
            // update our model
            _tasks = responseObject; [4]

            // instruct table to refresh view
            [self.tableView reloadData]; [5]

        } failure:^(NSError *error) {
            NSLog(@"An error has occured during read! \n%@", error);
        }];

    } failure:^(NSError *error) {
        NSLog(@"An error has occured during login! \n%@", error);
    }];
}</code></pre>
    
  </div>
</div>
<div class="paragraph">
    
  <p>First we access the singleton instance [1] and we use it to issue a <em>login</em> [2]. Upon succesfully completion, a <em>read</em> request on the task Pipe object is made [3] to fetch the latest tasks from the remote application. If the fetch was successful, we update our local model [4] and we instruct the table view component to refresh itself [5] to show the latest data.</p>
</div>
<div class="paragraph">
    
  <p>This completes our walkthrough. For a more complete example application that uses AeroGear to perform <a href="http://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> operations on a remote endpoint, have a look at the TODO application available on <a href="https://github.com/aerogear/aerogear-todo-ios">github</a>.</p>
</div>
<div class="paragraph">
    
  <p>You can also browse <a href="http://aerogear.org/docs/specs/aerogear-ios/">AeroGear iOS API reference</a> to familiarize yourself with the wealth of options.</p>
</div>

  
</div>


  </div>
  
</div>



</div>

            <div class="clearfix"></div>
      </div>
      <footer>
          <div class="wrapper">
              <div class="column">
                  <h3>News</h3>
                  
                  <p><a href="/news/2013/03/28/aerogear-1.0.0-is-out/index.html">AeroGear 1.0.0 is out!</a></p>
                  
                  <p><a href="/news/2013/03/04/aerogear-1.0.0.CR1-is-out/index.html">AeroGear 1.0.0.CR1 is out!</a></p>
                  
                  <p><a href="/news/2013/01/30/aerogear-1.0.0.M8-is-out/index.html">AeroGear 1.0.0.M8 is out!</a></p>
                  
                  <p><a href="/news/2012/12/20/aerogear-1.0.0.M7-is-out/index.html">AeroGear 1.0.0.M7 is out!</a></p>
                  
                  <p><a href="/news/2012/10/24/aerogear-1.0.0.M6-is-out/index.html">AeroGear 1.0.0.M6 is out!</a></p>
                  
              </div>
              <div class="column">
                  <h3>Get help</h3>
                  <p><a href="/docs">Documentation</a></p>
                  <p><a href="/examples">Examples</a></p>
              </div>
              <div class="column">
                  <h3>Contribute</h3>
                  <p><a href="http://github.com/aerogear" target="_blank">Source code</a></p>
                  <p><a href="http://issues.jboss.org/browse/AEROGEAR" target="_blank">Issue tracker</a></p>
                  <p><a href="https://lists.jboss.org/mailman/listinfo/aerogear-dev" target="_blank">Mailing list</a></p>
                  <p><a href="irc://irc.freenode.net/aerogear" target="_blank">IRC channel</a></p>
              </div>
              <div class="column responsive">
                  <h3>Social</h3>
                  <p><a href="">Twitter</a></p>
                  <p><a href="">Google Plus</a></p>
                  <p><a href="">Facebook</a></p>
              </div>
              <div class="column">
                  <h3><a href="http://twitter.com/AeroGears" target="_blank">@AeroGears</a></h3>
                  <div id="aerogear-twitter">Loading tweets...</div>
              </div>
              <div class="logos">
                  <p>AeroGear is a <a href="http://www.jboss.org/">JBoss Community</a> project<br class="title-break"> and its development is sponsored<br class="title-break"> by <a href="http://www.redhat.com/">Red Hat, Inc</a>.<br class="title-break"><br>Project code is released under <br class="title-break">the <a href="http://www.apache.org/licenses/LICENSE-2.0.html" target="_blank">Apache License, v2.0</a>.</p>
                  <p><a href="http://www.jboss.org/"><img src="/img/jboss_community.png" alt="JBoss Community"></a> <a href="http://www.redhat.com/"><img src="/img/red_hat.png" alt="Red Hat"></a></p>
                  <p>Copyright &copy; 2012, Red Hat, Inc.</p>
  <div class="clearfix"></div>
              </div>
          </div>
      </footer>
      <script src="/js/libs/repo-modified.js"></script>
      <script src="/js/libs/ba-linkify.min.js"></script>
      <script src="/js/libs/jquery.twitter.min.js"></script>
      <script src="/js/libs/jquery.smartresize.js"></script>
      <script src="/js/script.js"></script>
  </body>
</html>
